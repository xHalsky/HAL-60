<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SlicePad – 16-Pad Audio Sampler</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- Outer chassis wrapper with wood side panels -->
  <div id="chassis">

    <!-- Left wood end-cheek panel -->
    <div class="wood-panel wood-left"></div>

    <!-- Main metal body of the machine -->
    <div id="app">

      <!-- Header: Branding printed on the metal chassis -->
      <header id="header">
        <!-- Chassis logo (top-left) — "HAL-60" nameplate with subtitle -->
        <div id="header-brand">
          <div id="brand-nameplate">
            <span id="brand-name">HAL-60</span>
            <div id="brand-divider"></div>
            <span id="brand-subtitle">THE BUMPLER</span>
          </div>
          <span class="model-desc">SAMPLING PRODUCTION CENTER</span>
        </div>
        <!-- "Roger Linn" style designer signature (top-right) -->
        <span id="designer-signature">Halsky</span>
      </header>

      <!-- LCD Dot-Matrix Screen: waveform + progress + transport info -->
      <section id="lcd-screen">

        <!-- Scanline overlay for CRT / dot-matrix effect -->
        <div id="lcd-scanlines"></div>

        <!-- Count-in overlay: shows large beat countdown during pre-roll -->
        <div id="count-in-display"></div>

        <!-- Boot sequence diagnostic text overlay -->
        <div id="boot-overlay"></div>

        <!-- CRT warm-up horizontal scan bar -->
        <div id="boot-scanbar"></div>

        <!-- LCD splash / digital branding line -->
        <div id="lcd-splash">HAL-60 v1.0 // BUMPLER MODE</div>

        <!-- 4-bar loop progress bar with 1/32nd-note grid ticks -->
        <div id="loop-progress">
          <div id="loop-progress-fill"></div>
          <div id="loop-progress-ticks">
            <!-- 128 tick marks will be injected by JS -->
          </div>
        </div>

        <!-- Waveform viewer (inside the LCD) -->
        <div id="waveform-area">
          <div id="drop-zone">
            <div id="drop-zone-text">
              <p>DROP SAMPLE HERE<br /><small>OR PRESS "LOAD"</small></p>
            </div>
            <div id="waveform"></div>
          </div>
        </div>

        <!-- LCD footer info line -->
        <div id="lcd-info">
          <span id="file-name">NO FILE LOADED</span>
          <span id="lcd-bpm-display">70 BPM</span>
        </div>

      </section>

      <!-- Transport Controls: BPM, Metronome, Quantize, Swing, Rec/Play/Stop -->
      <section id="transport-section">

        <!-- BPM control group -->
        <div class="transport-group" id="bpm-group">
          <label for="bpm-input">BPM</label>
          <input type="number" id="bpm-input" min="60" max="90" value="70" step="0.5" />
          <input type="range" id="bpm-slider" min="60" max="90" value="70" step="0.5" />
        </div>

        <!-- Metronome Click toggle with status LED -->
        <div class="transport-group" id="metro-group">
          <button id="metro-btn" title="Toggle metronome click">CLICK</button>
          <div id="metronome-led" title="Beat indicator"></div>
        </div>

        <!-- Quantize toggle -->
        <div class="transport-group" id="quantize-group">
          <button id="quantize-btn" class="active" title="Snap recorded hits to 1/32 grid">Q</button>
          <span class="transport-label">1/32</span>
        </div>

        <!-- Swing control -->
        <div class="transport-group" id="swing-group">
          <label for="swing-slider">SWING</label>
          <input type="range" id="swing-slider" min="50" max="75" value="50" step="1" />
          <span id="swing-value">50%</span>
        </div>

        <!-- Note Repeat toggle -->
        <div class="transport-group" id="note-repeat-group">
          <button id="note-repeat-btn" title="Note Repeat: auto-retrigger held pads on 1/32 grid (hold Shift = momentary)">NR</button>
          <span class="transport-label">REPEAT</span>
        </div>

        <!-- Transport buttons: Record, Play, Stop, Clear -->
        <div id="transport-buttons">
          <button id="rec-btn" title="Record pad hits into the loop">&#9679; REC</button>
          <button id="play-btn" title="Play / loop the sequence">&#9654; PLAY</button>
          <button id="stop-btn" title="Stop playback">&#9632; STOP</button>
          <button id="clear-btn" title="Clear sequence">CLR</button>
        </div>

      </section>

      <!-- Load Sample + Pitch + Bump row -->
      <section id="controls-row">
        <!-- Load Sample button -->
        <div class="control-block" id="load-block">
          <label>SAMPLE</label>
          <button id="load-btn" title="Load an audio file">LOAD</button>
          <input type="file" id="file-input" accept="audio/*" hidden />
        </div>

        <!-- Global Pitch / Transpose control -->
        <div class="control-block" id="pitch-block">
          <label for="pitch-slider">PITCH</label>
          <div id="pitch-control">
            <span class="pitch-label">-12</span>
            <input
              type="range"
              id="pitch-slider"
              min="-12"
              max="12"
              value="0"
              step="1"
            />
            <span class="pitch-label">+12</span>
          </div>
          <div id="pitch-value">0 ST</div>
        </div>

        <!-- Divider between pitch and bump -->
        <div class="controls-divider"></div>

        <!-- Master Compressor "BUMP" control -->
        <div class="control-block" id="bump-block">
          <label for="bump-slider">BUMP</label>
          <input
            type="range"
            id="bump-slider"
            min="0"
            max="60"
            value="24"
            step="1"
            title="Master compressor threshold (0 = off, 60 = max squeeze)"
          />
          <div id="bump-value">-24 dB</div>
        </div>
      </section>

      <!-- Bottom Section: 4x4 Pad Grid -->
      <section id="pads-section">
        <div id="pad-grid">
          <!-- Pads 1-16 will be injected by JS -->
        </div>
      </section>

    </div>

    <!-- Right wood end-cheek panel -->
    <div class="wood-panel wood-right"></div>

  </div>

  <!-- Wavesurfer.js v7 via CDN (ES module) -->
  <script type="module" src="app.js"></script>
</body>
</html>
